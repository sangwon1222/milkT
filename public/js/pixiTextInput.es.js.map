{"version":3,"file":"pixiTextInput.es.js","sources":["../src/input.js","../src/button.js"],"sourcesContent":["import * as PIXI from 'pixi.js'\n\n\nexport class TextInput extends PIXI.Container {\n\n    constructor (styles) {\n        super ();\n        this._input_style = Object.assign (\n            {\n                position : 'absolute',\n                background : 'none',\n                border : 'none',\n                outline : 'none',\n                transformOrigin : '0 0',\n                lineHeight : '1'\n            },\n            styles.input\n        );\n\n        if (styles.box) {\n            this._box_generator = typeof styles.box === 'function' ? styles.box : new DefaultBoxGenerator (styles.box)\n        } else {\n            this._box_generator = null;\n        }\n        if (this._input_style.hasOwnProperty ('multiline')) {\n            this._multiline = !!this._input_style.multiline;\n            delete this._input_style.multiline\n        } else {\n            this._multiline = false;\n        }\n\n        this._box_cache = {};\n        this._previous = {};\n        this._dom_added = false;\n        this._dom_visible = true;\n        this._placeholder = '';\n        this._placeholderColor = 0xa9a9a9;\n        this._selection = [0, 0];\n        this._restrict_value = '';\n        this._createDOMInput ();\n        this.substituteText = true;\n        this._setState ('DEFAULT');\n        this._addListeners ()\n    }\n\n\n    // GETTERS & SETTERS\n\n    get substituteText () {\n        return this._substituted\n    }\n\n    set substituteText (substitute) {\n        if (this._substituted == substitute)\n            return\n\n        this._substituted = substitute\n\n        if (substitute) {\n            this._createSurrogate ()\n            this._dom_visible = false\n        } else {\n            this._destroySurrogate ()\n            this._dom_visible = true\n        }\n        this.placeholder = this._placeholder\n        this._update ()\n    }\n\n    get placeholder () {\n        return this._placeholder\n    }\n\n    set placeholder (text) {\n        this._placeholder = text\n        if (this._substituted) {\n            this._updateSurrogate ()\n            this._dom_input.placeholder = ''\n        } else {\n            this._dom_input.placeholder = text\n        }\n    }\n\n    get disabled () {\n        return this._disabled\n    }\n\n    set disabled (disabled) {\n        this._disabled = disabled\n        this._dom_input.disabled = disabled\n        this._setState (disabled ? 'DISABLED' : 'DEFAULT')\n    }\n\n    get maxLength () {\n        return this._max_length\n    }\n\n    set maxLength (length) {\n        this._max_length = length\n        this._dom_input.setAttribute ('maxlength', length)\n    }\n\n    get restrict () {\n        return this._restrict_regex\n    }\n\n    set restrict (regex) {\n        if (regex instanceof RegExp) {\n            regex = regex.toString ().slice (1, -1)\n\n            if (regex.charAt (0) !== '^')\n                regex = '^' + regex\n\n            if (regex.charAt (regex.length - 1) !== '$')\n                regex = regex + '$'\n\n            regex = new RegExp (regex)\n        } else {\n            regex = new RegExp ('^[' + regex + ']*$')\n        }\n\n        this._restrict_regex = regex\n    }\n\n    get text () {\n        return this._dom_input.value\n    }\n\n    set text (text) {\n        this._dom_input.value = text\n        if (this._substituted) this._updateSurrogate ()\n    }\n\n    get htmlInput () {\n        return this._dom_input\n    }\n\n    focus () {\n        if (this._substituted && !this.dom_visible)\n            this._setDOMInputVisible (true)\n\n        this._dom_input.focus ()\n\n    }\n\n    blur () {\n        this._dom_input.blur ()\n    }\n\n    select () {\n        this.focus ()\n        this._dom_input.select ()\n    }\n\n    setInputStyle (key, value) {\n        this._input_style[key] = value\n        this._dom_input.style[key] = value\n\n        if (this._substituted && (key === 'fontFamily' || key === 'fontSize'))\n            this._updateFontMetrics ()\n\n        if (this._last_renderer)\n            this._update ()\n    }\n\n    destroy (options) {\n        this._destroyBoxCache ()\n        super.destroy (options)\n    }\n\n\n    // SETUP\n\n    _createDOMInput () {\n        if (this._multiline) {\n            this._dom_input = document.createElement ('textarea')\n            this._dom_input.style.resize = 'none'\n        } else {\n            this._dom_input = document.createElement ('input')\n            this._dom_input.type = 'text'\n        }\n\n        for (let key in this._input_style) {\n            this._dom_input.style[key] = this._input_style[key]\n        }\n    }\n\n    _addListeners () {\n        this.on ('added', this._onAdded.bind (this))\n        this.on ('removed', this._onRemoved.bind (this))\n        this._dom_input.addEventListener ('keydown', this._onInputKeyDown.bind (this))\n        this._dom_input.addEventListener ('input', this._onInputInput.bind (this))\n        this._dom_input.addEventListener ('keyup', this._onInputKeyUp.bind (this))\n        this._dom_input.addEventListener ('focus', this._onFocused.bind (this))\n        this._dom_input.addEventListener ('blur', this._onBlurred.bind (this))\n    }\n\n    _onInputKeyDown (e) {\n        this._selection = [\n            this._dom_input.selectionStart,\n            this._dom_input.selectionEnd\n        ]\n\n        this.emit ('keydown', e.keyCode)\n    }\n\n    _onInputInput (e) {\n        if (this._restrict_regex);\n            this._applyRestriction ();\n\n        if (this._substituted)\n            this._updateSubstitution ();\n\n        this.emit ('input', this.text);\n    }\n\n    _onInputKeyUp (e) {\n        this.emit ('keyup', e.keyCode)\n    }\n\n    _onFocused () {\n        this._setState ('FOCUSED')\n        this.emit ('focus')\n    }\n\n    _onBlurred () {\n        this._setState ('DEFAULT')\n        this.emit ('blur')\n    }\n\n    _onAdded () {\n        document.body.appendChild (this._dom_input)\n        this._dom_input.style.display = 'none'\n        this._dom_added = true\n    }\n\n    _onRemoved () {\n        document.body.removeChild (this._dom_input)\n        this._dom_added = false\n    }\n\n    _setState (state) {\n        this.state = state\n        this._updateBox ()\n        if (this._substituted)\n            this._updateSubstitution ()\n    }\n\n\n    // RENDER & UPDATE\n\n    // for pixi v4\n    renderWebGL (renderer) {\n        super.render (renderer)\n        this._renderInternal (renderer)\n    }\n\n    // for pixi v4\n    renderCanvas (renderer) {\n        super.renderCanvas (renderer)\n        this._renderInternal (renderer)\n    }\n\n    // for pixi v5\n    render (renderer) {\n        super.render (renderer)\n        this._renderInternal (renderer)\n    }\n\n    _renderInternal (renderer) {\n        this._resolution = renderer.resolution\n        this._last_renderer = renderer\n        this._canvas_bounds = this._getCanvasBounds ()\n        if (this._needsUpdate ())\n            this._update ()\n    }\n\n    _update () {\n        this._updateDOMInput ()\n        if (this._substituted) this._updateSurrogate ()\n        this._updateBox ()\n    }\n\n    _updateBox () {\n        if (!this._box_generator)\n            return\n\n        if (this._needsNewBoxCache ())\n            this._buildBoxCache ()\n\n        if (this.state == this._previous.state\n            && this._box == this._box_cache[this.state])\n            return\n\n        if (this._box)\n            this.removeChild (this._box)\n\n        this._box = this._box_cache[this.state]\n        this.addChildAt (this._box, 0)\n        this._previous.state = this.state\n    }\n\n    _updateSubstitution () {\n        if (this.state === 'FOCUSED') {\n            this._dom_visible = true\n            this._surrogate.visible = this.text.length === 0\n        } else {\n            this._dom_visible = false\n            this._surrogate.visible = true\n        }\n        this._updateDOMInput ()\n        this._updateSurrogate ()\n    }\n\n    _updateDOMInput () {\n        if (!this._canvas_bounds)\n            return\n\n        this._dom_input.style.top = this._canvas_bounds.top + 'px'\n        this._dom_input.style.left = this._canvas_bounds.left + 'px'\n        this._dom_input.style.transform = this._pixiMatrixToCSS (this._getDOMRelativeWorldTransform ())\n        this._dom_input.style.opacity = this.worldAlpha\n        this._setDOMInputVisible (this.worldVisible && this._dom_visible)\n\n        this._previous.canvas_bounds = this._canvas_bounds\n        this._previous.world_transform = this.worldTransform.clone ()\n        this._previous.world_alpha = this.worldAlpha\n        this._previous.world_visible = this.worldVisible\n    }\n\n    _applyRestriction () {\n        if (this._restrict_regex.test (this.text)) {\n            this._restrict_value = this.text\n        } else {\n            this.text = this._restrict_value\n            this._dom_input.setSelectionRange (\n                this._selection[0],\n                this._selection[1]\n            )\n        }\n    }\n\n\n    // STATE COMPAIRSON (FOR PERFORMANCE BENEFITS)\n\n    _needsUpdate () {\n        return (\n            !this._comparePixiMatrices (this.worldTransform, this._previous.world_transform)\n            || !this._compareClientRects (this._canvas_bounds, this._previous.canvas_bounds)\n            || this.worldAlpha != this._previous.world_alpha\n            || this.worldVisible != this._previous.world_visible\n        )\n    }\n\n    _needsNewBoxCache () {\n        let input_bounds = this._getDOMInputBounds ()\n        return (\n            !this._previous.input_bounds\n            || input_bounds.width != this._previous.input_bounds.width\n            || input_bounds.height != this._previous.input_bounds.height\n        )\n    }\n\n\n    // INPUT SUBSTITUTION\n\n    _createSurrogate () {\n        this._surrogate_hitbox = new PIXI.Graphics ()\n        this._surrogate_hitbox.alpha = 0\n        this._surrogate_hitbox.interactive = true\n        this._surrogate_hitbox.cursor = 'text'\n        this._surrogate_hitbox.on ('pointerdown', this._onSurrogateFocus.bind (this))\n        this.addChild (this._surrogate_hitbox)\n\n        this._surrogate_mask = new PIXI.Graphics ()\n        this.addChild (this._surrogate_mask)\n\n        this._surrogate = new PIXI.Text ('', {})\n        this.addChild (this._surrogate)\n\n        this._surrogate.mask = this._surrogate_mask\n\n        this._updateFontMetrics ()\n        this._updateSurrogate ()\n    }\n\n    _updateSurrogate () {\n        let padding = this._deriveSurrogatePadding ()\n        let input_bounds = this._getDOMInputBounds ()\n\n        this._surrogate.style = this._deriveSurrogateStyle ()\n        this._surrogate.style.padding = Math.max.apply (Math, padding)\n        this._surrogate.y = this._multiline ? padding[0] : (input_bounds.height - this._surrogate.height) / 2\n        this._surrogate.x = padding[3]\n        this._surrogate.text = this._deriveSurrogateText ()\n\n        this._updateSurrogateHitbox (input_bounds)\n        this._updateSurrogateMask (input_bounds, padding)\n    }\n\n    _updateSurrogateHitbox (bounds) {\n        this._surrogate_hitbox.clear ()\n        this._surrogate_hitbox.beginFill (0)\n        this._surrogate_hitbox.drawRect (0, 0, bounds.width, bounds.height)\n        this._surrogate_hitbox.endFill ()\n        this._surrogate_hitbox.interactive = !this._disabled\n    }\n\n    _updateSurrogateMask (bounds, padding) {\n        this._surrogate_mask.clear ()\n        this._surrogate_mask.beginFill (0)\n        this._surrogate_mask.drawRect (padding[3], 0, bounds.width - padding[3] - padding[1], bounds.height)\n        this._surrogate_mask.endFill ()\n    }\n\n    _destroySurrogate () {\n        if (!this._surrogate) return\n\n        this.removeChild (this._surrogate)\n        this.removeChild (this._surrogate_hitbox)\n\n        this._surrogate.destroy ()\n        this._surrogate_hitbox.destroy ()\n\n        this._surrogate = null\n        this._surrogate_hitbox = null\n    }\n\n    _onSurrogateFocus () {\n        this._setDOMInputVisible (true)\n        //sometimes the input is not being focused by the mouseclick\n        setTimeout (this._ensureFocus.bind (this), 10)\n    }\n\n    _ensureFocus () {\n        if (!this._hasFocus ())\n            this.focus ()\n    }\n\n    _deriveSurrogateStyle () {\n        let style = new PIXI.TextStyle ()\n\n        for (var key in this._input_style) {\n            switch (key) {\n                case 'color':\n                    style.fill = this._input_style.color\n                    break\n                case 'fontFamily':\n                case 'fontSize':\n                case 'fontWeight':\n                case 'fontVariant':\n                case 'fontStyle':\n                    style[key] = this._input_style[key]\n                    break\n                case 'letterSpacing':\n                    style.letterSpacing = parseFloat (this._input_style.letterSpacing)\n                    break\n            }\n        }\n\n        if (this._multiline) {\n            style.lineHeight = parseFloat (style.fontSize)\n            style.wordWrap = true\n            style.wordWrapWidth = this._getDOMInputBounds ().width\n        }\n\n        if (this._dom_input.value.length === 0)\n            style.fill = this._placeholderColor\n\n        return style\n    }\n\n    _deriveSurrogatePadding () {\n        let indent = this._input_style.textIndent ? parseFloat (this._input_style.textIndent) : 0\n\n        if (this._input_style.padding && this._input_style.padding.length > 0) {\n            let components = this._input_style.padding.trim ().split (' ')\n\n            if (components.length == 1) {\n                let padding = parseFloat (components[0])\n                return [padding, padding, padding, padding + indent]\n            } else if (components.length == 2) {\n                let paddingV = parseFloat (components[0])\n                let paddingH = parseFloat (components[1])\n                return [paddingV, paddingH, paddingV, paddingH + indent]\n            } else if (components.length == 4) {\n                let padding = components.map (component => {\n                    return parseFloat (component)\n                })\n                padding[3] += indent\n                return padding\n            }\n        }\n\n        return [0, 0, 0, indent]\n    }\n\n    _deriveSurrogateText () {\n        return this._dom_input.value.length === 0 ? this._placeholder : this._dom_input.value\n    }\n\n    _updateFontMetrics () {\n        const style = this._deriveSurrogateStyle ()\n        const font = style.toFontString ()\n\n        this._font_metrics = PIXI.TextMetrics.measureFont (font)\n    }\n\n\n    // CACHING OF INPUT BOX GRAPHICS\n\n    _buildBoxCache () {\n        this._destroyBoxCache ()\n\n        let states = ['DEFAULT', 'FOCUSED', 'DISABLED']\n        let input_bounds = this._getDOMInputBounds ()\n\n        for (let i in states) {\n            this._box_cache[states[i]] = this._box_generator (\n                input_bounds.width,\n                input_bounds.height,\n                states[i]\n            )\n        }\n\n        this._previous.input_bounds = input_bounds\n    }\n\n    _destroyBoxCache () {\n        if (this._box) {\n            this.removeChild (this._box)\n            this._box = null\n        }\n\n        for (let i in this._box_cache) {\n            this._box_cache[i].destroy ()\n            this._box_cache[i] = null\n            delete this._box_cache[i]\n        }\n    }\n\n\n    // HELPER FUNCTIONS\n\n    _hasFocus () {\n        return document.activeElement === this._dom_input\n    }\n\n    _setDOMInputVisible (visible) {\n        this._dom_input.style.display = visible ? 'block' : 'none'\n    }\n\n    _getCanvasBounds () {\n        let rect = this._last_renderer.view.getBoundingClientRect ()\n        let bounds = { top : rect.top, left : rect.left, width : rect.width, height : rect.height }\n        bounds.left += window.scrollX\n        bounds.top += window.scrollY\n        return bounds\n    }\n\n    _getDOMInputBounds () {\n        let remove_after = false\n\n        if (!this._dom_added) {\n            document.body.appendChild (this._dom_input)\n            remove_after = true\n        }\n\n        let org_transform = this._dom_input.style.transform\n        let org_display = this._dom_input.style.display\n        this._dom_input.style.transform = ''\n        this._dom_input.style.display = 'block'\n        let bounds = this._dom_input.getBoundingClientRect ()\n        this._dom_input.style.transform = org_transform\n        this._dom_input.style.display = org_display\n\n        if (remove_after)\n            document.body.removeChild (this._dom_input)\n\n        return bounds\n    }\n\n    _getDOMRelativeWorldTransform () {\n        let canvas_bounds = this._last_renderer.view.getBoundingClientRect ()\n        let matrix = this.worldTransform.clone ()\n\n        matrix.scale (this._resolution, this._resolution)\n        matrix.scale (canvas_bounds.width / this._last_renderer.width,\n            canvas_bounds.height / this._last_renderer.height)\n        return matrix\n    }\n\n    _pixiMatrixToCSS (m) {\n        return 'matrix(' + [m.a, m.b, m.c, m.d, m.tx, m.ty].join (',') + ')'\n    }\n\n    _comparePixiMatrices (m1, m2) {\n        if (!m1 || !m2) return false\n        return (\n            m1.a == m2.a\n            && m1.b == m2.b\n            && m1.c == m2.c\n            && m1.d == m2.d\n            && m1.tx == m2.tx\n            && m1.ty == m2.ty\n        )\n    }\n\n    _compareClientRects (r1, r2) {\n        if (!r1 || !r2) return false\n        return (\n            r1.left == r2.left\n            && r1.top == r2.top\n            && r1.width == r2.width\n            && r1.height == r2.height\n        )\n    }\n}\n\n\nfunction DefaultBoxGenerator (styles) {\n    styles = styles || { fill : 0xcccccc }\n\n    if (styles.default) {\n        styles.focused = styles.focused || styles.default\n        styles.disabled = styles.disabled || styles.default\n    } else {\n        let temp_styles = styles\n        styles = {}\n        styles.default = styles.focused = styles.disabled = temp_styles\n    }\n\n    return function (w, h, state) {\n        let style = styles[state.toLowerCase ()]\n        let box = new PIXI.Graphics ()\n\n        if (style.fill)\n            box.beginFill (style.fill)\n\n        if (style.stroke)\n            box.lineStyle (\n                style.stroke.width || 1,\n                style.stroke.color || 0,\n                style.stroke.alpha || 1\n            )\n\n        if (style.rounded)\n            box.drawRoundedRect (0, 0, w, h, style.rounded)\n        else\n            box.drawRect (0, 0, w, h)\n\n        box.endFill ()\n        box.closePath ()\n\n        return box\n    }\n}\n","import { Sprite, utils } from 'pixi.js'\n\n/**\n * An UI button object\n *\n * @class\n * @extends PIXI.utils.EventEmitter\n */\n\nexport class ButtonTexture extends utils.EventEmitter {\n    constructor (options) {\n        super (options);\n        this._options = options;\n        const _btn = new Sprite (options.textureButton);\n        _btn._btnMode = true;\n        _btn.anchor.set (options.anchor ? options.anchor : 0.5);\n        _btn.position.x = options.x;\n        _btn.position.y = options.y;\n        _btn.interactive = true;\n        _btn\n        // set the mousedown and touchstart callback...\n            .on ('mousedown', this.onButtonDown)\n            .on ('touchstart', this.onButtonDown)\n            // set the mouseup and touchend callback...\n            .on ('mouseup', this.onButtonUp)\n            .on ('touchend', this.onButtonUp)\n            .on ('mouseupoutside', this.onButtonUp)\n            .on ('touchendoutside', this.onButtonUp)\n            // set the mouseover callback...\n            .on ('mouseover', this.onButtonOver)\n            // set the mouseout callback...\n            .on ('mouseout', this.onButtonOut)\n        //  .on ('tap', this.onButtonDown)\n        //  .on ('click', this.onButtonDown)\n\n        this.button = _btn;\n    }\n\n    getButtonFace () {\n        return this.button;\n    }\n\n    onButtonDown () {\n        this.button.isdown = true;\n        this.emit (\"BUTTONDOWN\");\n        this.button.texture = this._options.textureButtonDown;\n        this.button.alpha = 1;\n        window.console.log (\"button down\")\n    }\n\n\n    onButtonUp () {\n        this.button.isdown = false;\n        if (this.button.isOver) {\n            this.emit (\"BUTTONCONFIRM\");\n            this.button.texture = this._options.textureButtonOver;\n        } else {\n            this.emit (\"BUTTONUP\");\n            this.button.texture = this._options.textureButton;\n        }\n        window.console.log (\"button up\")\n    }\n\n    onButtonOver () {\n        this.button.isOver = true;\n        this.emit (\"BUTTONOVER\");\n        if (this.button.isdown) {\n            return;\n        }\n        this.button.texture = this._options.textureButtonOver;\n    }\n\n    onButtonOut () {\n        this.button.isOver = false;\n        this.emit (\"BUTTONOUT\");\n        if (this.button.isdown) {\n            return;\n        }\n        this.button.texture = this._options.textureButton;\n    }\n\n}\n"],"names":["PIXI.Container","PIXI.Graphics","PIXI.Text","PIXI.TextStyle","PIXI.TextMetrics"],"mappings":"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"}